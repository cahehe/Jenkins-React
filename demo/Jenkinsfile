pipeline{    
    agent any

    stages{        
        stage("pull"){
            steps{
                sh """
                    docker pull carlos6125/demo
                    """
            }
        }

        stage("run"){
            steps{
                sh """
                    docker run --rm -d -p 3000:3000 carlos6125/demo
                    """
            }
        }

        stage("end"){
            steps{
                sh """
                    docker kill carlos6125/demo
                    """
            }
        }
    }
}